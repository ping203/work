////////////////////////////////////////////////////////////////////////////////
// Shop Data Operation
// 商城数据的操作更新
// add_shop_log
////////////////////////////////////////////////////////////////////////////////

//==============================================================================
// import
//==============================================================================
//------------------------------------------------------------------------------
// 工具(Tool)
//------------------------------------------------------------------------------
var BuzzUtil = require('../../src/utils/BuzzUtil');
var buzz_cst_game = require('../../src/buzz/cst/buzz_cst_game');
var data_util = require('./data_util');
const logicResponse = require('../../../common/logicResponse');
//------------------------------------------------------------------------------
// 缓存(Cache)
//------------------------------------------------------------------------------
var CacheLink = require('../../src/buzz/cache/CacheLink');

//------------------------------------------------------------------------------
// 配置表
//------------------------------------------------------------------------------
var api_map = require('../api_map');


//==============================================================================
// const
//==============================================================================
var DEBUG = 0;
var ERROR = 1;


//==============================================================================
// public
//==============================================================================

//------------------------------------------------------------------------------
// definition
//------------------------------------------------------------------------------
exports.add_shop_log = add_shop_log;

//------------------------------------------------------------------------------
// implement
//------------------------------------------------------------------------------

/**
 * 添加商城记录
 */
async function add_shop_log(data) {
    return new Promise(function (resolve, reject) {
        myDao.addShopLog(data, function (err, rows) {
            if (err) {
                logger.error('更新玩家商城数据失败 err:', err);
                reject(err);
            }
            resolve(logicResponse.ask(rows[0]));
        });
    });
}


//==============================================================================
// private
//==============================================================================


