////////////////////////////////////////////////////////////////////////////////
// 玩家反馈的接口实现.
////////////////////////////////////////////////////////////////////////////////

//==============================================================================
// import
//==============================================================================
var data_util = require('./data_util');
var buzz_level = require('../../src/buzz/buzz_level');
const logicResponse = require('../../../common/logicResponse');

//------------------------------------------------------------------------------
// 缓存(Cache)
//------------------------------------------------------------------------------

//------------------------------------------------------------------------------
// 配置表
//------------------------------------------------------------------------------

//==============================================================================
// const
//==============================================================================
var DEBUG = 0;
var ERROR = 1;
var TAG = "【data/level】";

//==============================================================================
// public
//==============================================================================

//------------------------------------------------------------------------------
// definition
//------------------------------------------------------------------------------
exports.levelUp = levelUp;

//------------------------------------------------------------------------------
// implement
//------------------------------------------------------------------------------

async function levelUp(data) {
    return new Promise(function(resolve, reject){
        buzz_level.levelUp({pool: global.mysqlPool}, data,  function(err, result) {
            if(err){
                logger.error('玩家升级 err:', err);
                reject(err);
            }
            resolve(logicResponse.ask(result));
        });
    });

}